% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_battle_log.R
\name{get_battle_log}
\alias{get_battle_log}
\title{Get Clash Royale Battle Log}
\usage{
get_battle_log(tag, token = Sys.getenv("CR_API_TOKEN"))
}
\arguments{
\item{tag}{Character. The player's tag, with or without the leading '#'.
For example: "9JR2YGV20" or "#9JR2YGV20".}

\item{token}{Character. API token for the Clash Royale API.
By default this is read from the CR_API_TOKEN environment variable.}
}
\value{
A tibble with one row per battle and columns:
\describe{
\item{battleTime}{Battle timestamp (character)}
\item{type}{Battle type (ladder, etc.)}
\item{gameMode}{Game mode name}
\item{arena}{Arena name}
\item{team}{Data frame of your team players with columns
\code{crowns}, \code{startingTrophies},
\code{trophyChange}, and \code{cards}
(list-column of card data frames)}
\item{opponent}{Same structure as \code{team} for the opposing side}
}
}
\description{
Fetches a player's most recent battles from the official Clash Royale API
and returns a data frame structured to work with ClashR analytics functions
such as \code{\link[=most_used_cards]{most_used_cards()}}, \code{\link[=calculate_win_rate]{calculate_win_rate()}},
\code{\link[=plot_trophy_progression]{plot_trophy_progression()}}, and \code{\link[=calculate_three_crown_rate]{calculate_three_crown_rate()}}.
}
